import{r as T,o as C,a as r,b as d,c as i,F as x,d as k,e,w as t,f as _,g as o,t as s,h as N,i as w,_ as I,j as S,E as z,p as L,k as V}from"./index-BC9YzqKM.js";import{g as $,s as q}from"./IndexView-BL7mc9vc.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./common-BxRz0MhJ.js";const E={style:{margin:"0 3% 0 3%"}},D={style:{width:"100%","margin-bottom":"2%"}},M={style:{width:"100%","margin-bottom":"2%"}},F={key:0,style:{width:"100%","margin-bottom":"2%"}},O={__name:"RequestLog",setup(m){const u=T([]);function g(){$().then(f=>{u.value=f.data.data})}return C(()=>{g()}),(f,y)=>{const a=r("el-descriptions-item"),b=r("el-descriptions"),c=r("el-tag"),n=r("el-table-column"),p=r("el-table");return d(),i("div",null,[(d(!0),i(x,null,k(u.value,h=>(d(),i("div",null,[e(p,{data:h,style:{width:"100%","margin-bottom":"2%"}},{default:t(()=>[e(n,{type:"expand"},{default:t(l=>[_("div",E,[_("div",D,[e(b,{title:"请求数据"},{default:t(()=>[e(a,{label:"ID"},{default:t(()=>[o(s(l.row.id),1)]),_:2},1024),e(a,{label:"TOKEN"},{default:t(()=>[o(s(l.row.token),1)]),_:2},1024),e(a,{label:"服务名"},{default:t(()=>[o(s(l.row.serverName),1)]),_:2},1024),e(a,{label:"类名"},{default:t(()=>[o(s(l.row.className),1)]),_:2},1024),e(a,{label:"方法名"},{default:t(()=>[o(s(l.row.methodName),1)]),_:2},1024),e(a,{label:"版本"},{default:t(()=>[o(s(l.row.version),1)]),_:2},1024),e(a,{label:"地区"},{default:t(()=>[o(s(l.row.area),1)]),_:2},1024),e(a,{label:"开始时间"},{default:t(()=>[o(s(l.row.startTime),1)]),_:2},1024),e(a,{label:"结束时间"},{default:t(()=>[o(s(l.row.endTime),1)]),_:2},1024),e(a,{label:"花费时间"},{default:t(()=>[o(s(l.row.spendTime)+" ms",1)]),_:2},1024),e(a,{label:"请求参数"},{default:t(()=>[o(s(l.row.data),1)]),_:2},1024)]),_:2},1024)]),_("div",M,[e(b,{title:"响应结果"},{default:t(()=>[e(a,{label:"ID"},{default:t(()=>[o(s(l.row.rpcResponse.id),1)]),_:2},1024),e(a,{label:"Code"},{default:t(()=>[l.row.rpcResponse.code===200?(d(),N(c,{key:0,class:"ml-2",type:"success",size:"small"},{default:t(()=>[o(s(l.row.rpcResponse.code),1)]),_:2},1024)):(d(),N(c,{key:1,class:"ml-2",type:"danger",size:"small"},{default:t(()=>[o(s(l.row.rpcResponse.code),1)]),_:2},1024))]),_:2},1024),e(a,{label:"消息"},{default:t(()=>[o(s(l.row.rpcResponse.message),1)]),_:2},1024),e(a,{label:"数据"},{default:t(()=>[o(s(JSON.stringify(l.row.rpcResponse.data,null,"  ")),1)]),_:2},1024)]),_:2},1024)]),l.row.e?(d(),i("div",F,[e(b,{title:"异常信息"},{default:t(()=>[e(a,{label:"数据"},{default:t(()=>[(d(!0),i(x,null,k(l.row.e,R=>(d(),i("div",null,s(R),1))),256))]),_:2},1024)]),_:2},1024)])):w("",!0)])]),_:1}),e(n,{sortable:"",prop:"id",label:"id",width:"180"}),e(n,{sortable:"",prop:"token",label:"token",width:"180"}),e(n,{sortable:"",prop:"serverName",label:"serverName",width:"180"}),e(n,{sortable:"",prop:"className",label:"className",width:"180"}),e(n,{sortable:"",prop:"methodName",label:"methodName",width:"180"}),e(n,{sortable:"",prop:"version",label:"version",width:"100"}),e(n,{sortable:"",prop:"area",label:"area",width:"100"}),e(n,{sortable:"",prop:"startTime",label:"startTime",width:"220"}),e(n,{sortable:"",prop:"endTime",label:"endTime",width:"220"}),e(n,{sortable:"",prop:"spendTime",label:"spendTime/ms",width:"180"})]),_:2},1032,["data"])]))),256))])}}},v=m=>(L("data-v-e91d0501"),m=m(),V(),m),j=v(()=>_("div",{class:"flex-grow"},null,-1)),A=v(()=>_("span",{style:{"font-size":"large","font-weight":"bolder"}},"首页",-1)),J=v(()=>_("span",{style:{"font-size":"large","font-weight":"bolder"}},"服务",-1)),K=v(()=>_("span",{style:{"font-size":"large","font-weight":"bolder"}},"日志",-1)),P={key:0},G={key:1},H={key:2},Q={__name:"IndexView",setup(m){const u=T("home");function g(a){u.value=a}function f(){S.push("/auth")}function y(){localStorage.removeItem("token"),z.success("注销成功")}return(a,b)=>{const c=r("el-menu-item"),n=r("el-sub-menu"),p=r("el-menu"),h=r("el-col"),l=r("el-row");return d(),i("div",null,[_("div",null,[e(p,{class:"el-menu-demo",mode:"horizontal",ellipsis:!1},{default:t(()=>[e(c,{index:"0"},{default:t(()=>[_("h1",{onClick:f},"CRPC")]),_:1}),j,e(n,{index:"1"},{title:t(()=>[o("工作台")]),default:t(()=>[e(c,{index:"1-1",onClick:f},{default:t(()=>[o("登录")]),_:1}),e(c,{index:"1-2",onClick:y},{default:t(()=>[o("注销")]),_:1})]),_:1})]),_:1})]),_("div",null,[e(l,null,{default:t(()=>[e(h,{span:2},{default:t(()=>[e(p,{class:"el-menu-vertical-demo",onSelect:g,"default-active":"index"},{default:t(()=>[e(c,{index:"home"},{default:t(()=>[A]),_:1}),e(c,{index:"server"},{default:t(()=>[J]),_:1}),e(c,{index:"requestLog"},{default:t(()=>[K]),_:1})]),_:1})]),_:1}),e(h,{span:20},{default:t(()=>[u.value==="home"?(d(),i("div",P,[e(I)])):w("",!0),u.value==="server"?(d(),i("div",G,[e(q)])):w("",!0),u.value==="requestLog"?(d(),i("div",H,[e(O)])):w("",!0)]),_:1})]),_:1})])])}}},Z=B(Q,[["__scopeId","data-v-e91d0501"]]);export{Z as default};
