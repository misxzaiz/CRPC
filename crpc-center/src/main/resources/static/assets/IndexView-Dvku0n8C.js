import{d as b}from"./common-BAnnM1d1.js";import{r as m,o as w,a as d,b as x,c as y,f as v,e as l,w as t,g as f,E as p,j as U}from"./index-5qiIIfl3.js";function h(_){return b("CrpcServer/AuthService/login/V1",_)}const N={class:"sci-fi-login"},k=v("h1",null,"欢迎您的到来！",-1),C=v("h1",null,"Welcome to your arrival!",-1),J={style:{"margin-top":"5%"}},B={__name:"IndexView",setup(_){const r=m({account:"",password:""}),u=m({protocol:"",ip:"",port:""}),i=m(!0),c=m(!0);function g(){c.value?localStorage.setItem("server",JSON.stringify(u.value)):localStorage.removeItem("server"),i.value?localStorage.setItem("userInfo",JSON.stringify(r.value)):localStorage.removeItem("userInfo"),h(r.value).then(a=>{a.data.data.code===200?(localStorage.setItem("token",a.data.data.data),p.success(a.data.data.message),U.push("/")):p.error(a.data.data.message)}).catch(a=>{console.log(a.errMsg),a.errMsg==="request:fail"?p.error("登录失败！请检查协议、ip、端口是否正确！"):p.error("登录失败！请检查协议、ip、端口、账号和密码是否正确！")})}return w(()=>{const a=localStorage.getItem("userInfo");a&&(r.value=JSON.parse(a));const e=localStorage.getItem("server");e&&(u.value=JSON.parse(e))}),(a,e)=>{const n=d("el-input"),s=d("el-form-item"),V=d("el-checkbox"),I=d("el-button"),S=d("el-form");return x(),y("div",N,[k,C,v("div",J,[l(S,{model:r.value,"label-width":"auto",style:{"max-width":"600px"}},{default:t(()=>[l(s,{label:"协议"},{default:t(()=>[l(n,{modelValue:u.value.protocol,"onUpdate:modelValue":e[0]||(e[0]=o=>u.value.protocol=o),placeholder:"请输入您的协议！"},null,8,["modelValue"])]),_:1}),l(s,{label:"IP"},{default:t(()=>[l(n,{modelValue:u.value.ip,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value.ip=o),placeholder:"请输入您的IP！"},null,8,["modelValue"])]),_:1}),l(s,{label:"端口"},{default:t(()=>[l(n,{modelValue:u.value.port,"onUpdate:modelValue":e[2]||(e[2]=o=>u.value.port=o),placeholder:"请输入您的端口！"},null,8,["modelValue"])]),_:1}),l(s,{label:"账号"},{default:t(()=>[l(n,{modelValue:r.value.account,"onUpdate:modelValue":e[3]||(e[3]=o=>r.value.account=o),placeholder:"请输入您的账号！"},null,8,["modelValue"])]),_:1}),l(s,{label:"密码"},{default:t(()=>[l(n,{modelValue:r.value.password,"onUpdate:modelValue":e[4]||(e[4]=o=>r.value.password=o),type:"password",placeholder:"请输入您的密码！"},null,8,["modelValue"])]),_:1}),l(s,null,{default:t(()=>[l(V,{modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=o=>i.value=o)},{default:t(()=>[f("记住密码")]),_:1},8,["modelValue"]),l(V,{modelValue:c.value,"onUpdate:modelValue":e[6]||(e[6]=o=>c.value=o)},{default:t(()=>[f("记住服务")]),_:1},8,["modelValue"])]),_:1}),l(s,null,{default:t(()=>[l(I,{type:"primary",class:"login-btn",onClick:g},{default:t(()=>[f("登录")]),_:1})]),_:1})]),_:1},8,["model"])])])}}};export{B as default};
